<!DOCTYPE HTML>
{% csrf_token %}
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title></title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta name="generator" content=""/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <link href="../static/css/haiersoft.css" rel="stylesheet" type="text/css" media="screen,print"/>
    <link href="../static/css/print.css" rel="stylesheet" type="text/css" media="print"/>
    <script src="../static/js/jquery-1.10.1.min.js"></script>
    <script src="../static/js/side.js" type="text/javascript"></script>

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
</head>


<body>
<!-- wrap_left -->

<!-- /wrap_left -->

<!-- picBox -->
<div class="picBox" onClick="switchSysBar()" id="switchPoint"></div>
<!-- /picBox -->


<!-- wrap_right -->
<div class="wrap_right">
    <header>
        <!-- Header -->

        <!-- /Header -->
    </header>


    <!-- Contents -->
    <div id="Contents">
        <script type="text/javascript">
            $(function () {
                $(".select").each(function () {
                    var s = $(this);
                    var z = parseInt(s.css("z-index"));
                    var dt = $(this).children("dt");
                    var dd = $(this).children("dd");
                    var _show = function () {
                        dd.slideDown(200);
                        dt.addClass("cur");
                        s.css("z-index", z + 1);
                    };
                    var _hide = function () {
                        dd.slideUp(200);
                        dt.removeClass("cur");
                        s.css("z-index", z);
                    };
                    dt.click(function () {
                        dd.is(":hidden") ? _show() : _hide();
                    });
                    dd.find("a").click(function () {
                        dt.html($(this).html());
                        _hide();
                    });
                    $("body").click(function (i) {
                        !$(i.target).parents(".select").first().is(s) ? _hide() : "";
                    });
                })
            })
        </script>

        <!-- MainForm -->
        <div id="MainForm">
            <div class="form_boxB">
                <h2 id="title" style="background-color: #1e628f;text-align: center;font-size:28px;color:white "  >学生培养方案</h2>
<table cellpadding="0" cellspacing="0">
<tr>
    <th > 专业及班级：</th>
    <td id="major" > </td>
    <td id="class">  </td>
    <th > 姓名</th>
    <td id="name">  </td>
    <th > 学号</th>
    <td id="student_id">  </td>

</tr>
</table>
                <table >
                    <thead>
                             <tr>
                        <th>课程编码</th>
                        <th>课程名称</th>
                        <th>课程类别</th>
                        <th>开课院系</th>
                        <th>课程课时</th>
                        <th>课程学分</th>
                        <th>是否必选</th>

                    </tr>

                    </thead>
                    <tbody>
                      {% for i in courseprogram %}
                         <tr>
                         <td>{{i.course_id}}</td>
                        <td>{{i.course_name}}</td>
                        <td>{{i.course_type}}</td>
                        <td>{{i.course_rank}}</td>
                        <td>{{i.course_length}}</td>
                        <td>{{i.course_credit}}</td>
                        <td>{{i.course_choice}}</td>
                        </tr>
                      {% endfor %}
                    </tbody>
                </table>
           <p class="msg" style="margin-bottom: 5px">共找到
{#               <span id="rownum" value="4">#}
{##}
{#               </span>#}
               {{ courseprogram|length }}
               条课程记录，当前显示从第1条至第10条</p>
            </div>
            <div class="txtbox floatL mag_r20">
            <form action="">
                <input type="text" name="course_keyword" placeholder="课程编号">
                 <input type="submit" value="查询">
            </form>
            </div>



        </div>
    <ul id="PageNum">
        <li><a href="#">首页</a></li>
        <li><a href="#">上一页</a></li>
        <li><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li><a href="#">6</a></li>
        <li><a href="#">下一页</a></li>
        <li><a href="#">尾页</a></li>
     </ul>
    </div>
    <!-- /Contents -->

    <!-- /footer -->
    <footer>
        <address>2021 Corporation,All Rights</address>
    </footer>
    <!-- /footer -->

</div>

<!-- /wrap_right -->
</body>

$("#username")
<script type="text/javascript" src="../static/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../static/js/jquery.cookie.js"></script>
<script type="text/javascript">
    {#$.ajax({#}
    {#    'type': 'GET',#}
    {#     'url': '{% url 'system:get_rownum' %}',#}
    {#    'data': {#}
    {#        'csrfmiddlewaretoken': $.cookie('csrftoken'),#}
    {#        'course_keyword': {{ course_keyword }}#}
    {#            },#}
    {#    'success': function (result) {#}
    {#        data = JSON.parse(result)#}
    {#            alert(data['rownum']+'这是记录数');#}
    {#            $('#rownum').html(data['rownum']);#}
    {##}
    {#            },#}
    {#    'error': function (result) {#}
    {#        console.log(result);#}
    {#    }#}
    {#})#}

     $.ajax({
        'type': 'POST',
        'url': '{% url 'system:get_major' %}',
        'data': {
            'csrfmiddlewaretoken': $.cookie('csrftoken'),
                },
        'success': function (result) {
            data = JSON.parse(result)
            alert('这是你本学期的培养方案');
                $('#major').html(data['major']);
                $('#class').html(data['class']);

                },
        'error': function (result) {
            console.log(result);
        }
    })
     $.ajax({
        'type': 'POST',
        'url': '{% url 'system:get_realname' %}',
        'data': {
            'csrfmiddlewaretoken': $.cookie('csrftoken'),
                },
        'success': function (result) {
            data = JSON.parse(result)
            {#alert('这是你本学期的课程安排');#}
                $('#name').html(data['realname']);
                $('#student_id').html(data['student_id']);

                },
        'error': function (result) {
            console.log(result);
        }
    })
</script>
</html>
